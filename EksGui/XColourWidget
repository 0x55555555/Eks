#ifndef COLOURWIDGET_H
#define COLOURWIDGET_H

#include "XGuiGlobal"
#include "QWidget"
#include "Colour"
#include "Eks::Vector3D"

class QVBoxLayout;
class QHBoxLayout;
class QtColorTriangle;
class Eks::Vector3DWidget;
class XFloatWidget;
class QGroupBox;

class EKSGUI_EXPORT ColourWidget : public QWidget
    {
Q_OBJECT
public:
    ColourWidget( QWidget *parent = 0, const Colour &col = Colour(), bool hasAlpha=true );

    double alpha();
    Colour colour();

Q_SIGNALS:
    void colourChanged( const Colour & );

public Q_SLOTS:
    void setColour( const Colour & );

private Q_SLOTS:
    void setAlpha(double);
    void rgbChanged( const Eks::Vector3D & );
    void pickerChanged( QColor );

private:
    Eks::Vector3DWidget *_slider;
    XFloatWidget *_alpha;
    QtColorTriangle *_picker;
    QVBoxLayout *_outerLayout;
    QHBoxLayout *_alphaLayout;
    QVBoxLayout *_sliderLayout;
    QVBoxLayout *_pickerLayout;
    bool _setting;
    };

#endif // COLOURWIDGET_H
